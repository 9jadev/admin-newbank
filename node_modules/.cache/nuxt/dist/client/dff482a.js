(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{1362:function(t,e,n){"use strict";n.r(e);n(111),n(61),n(27);var l=n(7),r=(n(66),{layout:"dash",asyncData:function(t){return Object(l.a)(regeneratorRuntime.mark((function e(){var n,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.params,n=t.$axios,e.prev=1,e.next=4,n.get("payment/list");case 4:return l=e.sent,e.abrupt("return",{paymentsmethods:l.data.payment_type});case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0),window.location.assign("/dashboard");case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))()},data:function(){return{plans:[],amount:0,status:null,user:null,per_page:10,payment_type:null,paymentsmethods:[],withdrawals_data:[],withdrawals:null}},methods:{callback:function(t){console.log(t),1==t&&(this.status=null),2==t&&(this.status=1),3==t&&(this.status=0),this.firstload(),this.withdrawals_data=[],this.withdrawals=null,console.log(this.withdrawals_data.length)},paginate:function(t){var e=this;if(null!=t.url){var param={page_number:this.per_page};null!=this.status&&(param.status=this.status),this.$axios.post(t.url,param).then((function(data){e.loading=!1,e.investloading=!1,e.withdrawals_data=data.data.withdrawals.data,e.withdrawals=data.data.withdrawals})).catch((function(t){e.loading=!1,e.show=!1}))}else this.$notyf.error("No more data")},firstload:function(){var t=this;this.investloading=!0;var param={status:this.status,page_number:this.per_page};console.log(param),this.$apiservice.listWithdrawal(param).then((function(data){t.loading=!1,t.investloading=!1,t.withdrawals_data=data.data.withdrawals.data,t.withdrawals=data.data.withdrawals})).catch((function(e){t.loading=!1,t.investloading=!1,t.show=!1}))},createWithdraw:function(){var t=this;return Object(l.a)(regeneratorRuntime.mark((function e(){var data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.amount){e.next=3;break}return t.$notyf.error("Amount is required"),e.abrupt("return");case 3:if(t.payment_type&&null!=t.payment_type){e.next=6;break}return t.$notyf.error("Payment type is required"),e.abrupt("return");case 6:return data={amount:t.amount,payment_type:t.payment_type.id},t.investloading=!0,e.next=10,t.$apiservice.createWithdrawal(data).then((function(data){t.$notyf.success(data.data.message),t.investloading=!1,t.amont=null,t.$auth.fetchUser()})).catch((function(e){t.investloading=!1,t.$notyf.error(null==e.response.data.message?"Error Occoured":e.response.data.message)}));case 10:case"end":return e.stop()}}),e)})))()}},created:function(){this.user=this.$auth.user,this.firstload()}}),o=n(60),component=Object(o.a)(r,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"px-10"},[e("div",{staticClass:"border p-6 rounded md:w-2/6 mb-4 w-full shadow-[#072C5C]-500/50 shadow-lg"},[e("div",{staticClass:"flex justify-between items-center"},[e("h5",{staticClass:"text-[#072c5c] text-2xl"},[t._v("Withdrawal ("+t._s(t._f("currency")(t.user.customerbalance,"$"))+")")])]),t._v(" "),e("div",[e("div",{staticClass:"mb-4 w-full"},[e("label",{staticClass:"mb-4 text-md text-[1rem] font-normal text-[#00154A] leading-[150%]",attrs:{for:"fullname"}},[t._v("Amount: ("+t._s(t._f("currency")(t.amount,"$"))+")")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.amount,expression:"amount"}],staticClass:"bg-white border border-[#D1D1D1] h-10 placeholder:text-[0.9rem] font-light activeinput leading-[150%] placeholder:text-[#868685] focus-visible:outline-none rounded-[0.5rem] focus-visible:border-[#00154A] text-black text-lg w-full p-2",attrs:{type:"text"},domProps:{value:t.amount},on:{input:function(e){e.target.composing||(t.amount=e.target.value)}}})]),t._v(" "),e("div",{staticClass:"mb-4 w-full"},[e("label",{staticClass:"mb-4 text-md text-[1rem] font-normal text-[#00154A] leading-[150%]",attrs:{for:"fullname"}},[t._v("Payment Method:")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.payment_type,expression:"payment_type"}],staticClass:"bg-white border border-[#D1D1D1] h-10 placeholder:text-[0.9rem] font-light activeinput leading-[150%] placeholder:text-[#868685] focus-visible:outline-none rounded-[0.5rem] focus-visible:border-[#00154A] text-black text-lg w-full p-2",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.payment_type=e.target.multiple?n:n[0]}}},t._l(t.paymentsmethods,(function(n){return e("option",{key:n.id,domProps:{value:n}},[t._v(t._s(n.payment_type_name))])})),0)]),t._v(" "),e("button",{staticClass:"hover:transition-all hover:bg-[#0042EC] text-white h-10 bg-[#0042EC] focus-visible:outline-none font-normal leading-[150%] rounded-[0.5rem] px-5 py-2 text-center",on:{click:function(e){return t.createWithdraw()}}},[t._v("Save")])])]),t._v(" "),e("div",[e("a-tabs",{attrs:{"default-active-key":"1"},on:{change:t.callback}},[e("a-tab-pane",{key:"1",attrs:{tab:"All Withdrawals"}},[0!=t.withdrawals_data.length?e("table",{staticClass:"w-full"},[e("thead",[e("tr",{staticClass:"p-6 border-b-2 border-b-[#B8B8B8] bg-[#D2DDFD]"},[e("td",{staticClass:"text-[15px] pl-4 font-semibold leading-[21px] font-[#1D2939] py-4"},[t._v("Amount")]),t._v(" "),e("td",{staticClass:"text-[15px] font-semibold leading-[21px] font-[#1D2939] py-4"},[t._v("Payment Type")]),t._v(" "),e("td",{staticClass:"text-[15px] font-semibold leading-[21px] font-[#1D2939] py-4"},[t._v("Status")]),t._v(" "),e("td",{staticClass:"text-[15px] font-semibold leading-[21px] font-[#1D2939] py-4"},[t._v("Created At")])])]),t._v(" "),e("tbody",t._l(t.withdrawals_data,(function(n,l){var r,o;return e("tr",{key:n.id,staticClass:"cusor-auto p-6 border-b-2 hover:bg-[#D2DDFD]"},[e("td",{staticClass:"text-[15px] pl-4 font-normal leading-[21px] font-[#1D2939] py-4"},[t._v(t._s(t._f("currency")(n.amount,"$")))]),t._v(" "),e("td",{staticClass:"text-[15px] font-semibold leading-[21px] font-[#1D2939] py-4"},[t._v(" "+t._s(t._f("capitalize")(null!==(r=n.paymenttype)&&void 0!==r&&r.payment_type_name?null===(o=n.paymenttype)||void 0===o?void 0:o.payment_type_name:"")))]),t._v(" "),e("td",{staticClass:"text-[15px] font-normal leading-[21px] font-[#1D2939] py-4"},["1"==n.status?e("a-tag",{attrs:{color:"green"}},[t._v("Completed")]):t._e(),t._v(" "),"0"==n.status?e("a-tag",{attrs:{color:"red"}},[t._v("Pending")]):t._e()],1),t._v(" "),e("td",{staticClass:"text-[15px] font-normal leading-[21px] font-[#1D2939] py-4"},[t._v(t._s(t._f("dateFormat")(n.created_at)))])])})),0)]):t._e(),t._v(" "),e("div",{staticClass:"w-full flex justify-end items-end my-3"},[null!=t.withdrawals?e("div",{staticClass:"flex items-center space-x-1 flexwrap"},t._l(t.withdrawals.links,(function(n){return e("div",{key:n.id,staticClass:"cursor-pointer px-4 py-2 text-gray-700 rounded-md hover:bg-[#0042EC] hover:text-white",class:{"bg-[#0042EC] text-white":n.active},domProps:{innerHTML:t._s(n.label)},on:{click:function(e){return t.paginate(n)}}})})),0):t._e()])]),t._v(" "),e("a-tab-pane",{key:"2",attrs:{tab:"Confirmed Withdrawals"}},[0!=t.withdrawals_data.length?e("table",{staticClass:"w-full"},[e("thead",[e("tr",{staticClass:"p-6 border-b-2 border-b-[#B8B8B8] bg-[#D2DDFD]"},[e("td",{staticClass:"text-[15px] pl-4 font-semibold leading-[21px] font-[#1D2939] py-4"},[t._v("Amount")]),t._v(" "),e("td",{staticClass:"text-[15px] font-semibold leading-[21px] font-[#1D2939] py-4"},[t._v("Payment Type")]),t._v(" "),e("td",{staticClass:"text-[15px] font-semibold leading-[21px] font-[#1D2939] py-4"},[t._v("Status")]),t._v(" "),e("td",{staticClass:"text-[15px] font-semibold leading-[21px] font-[#1D2939] py-4"},[t._v("Created At")])])]),t._v(" "),e("tbody",t._l(t.withdrawals_data,(function(n,l){var r,o;return e("tr",{key:n.id,staticClass:"cusor-auto p-6 border-b-2 hover:bg-[#D2DDFD]"},[e("td",{staticClass:"text-[15px] pl-4 font-normal leading-[21px] font-[#1D2939] py-4"},[t._v(t._s(t._f("currency")(n.amount,"$")))]),t._v(" "),e("td",{staticClass:"text-[15px] font-semibold leading-[21px] font-[#1D2939] py-4"},[t._v(" "+t._s(t._f("capitalize")(null!==(r=n.paymenttype)&&void 0!==r&&r.payment_type_name?null===(o=n.paymenttype)||void 0===o?void 0:o.payment_type_name:"")))]),t._v(" "),e("td",{staticClass:"text-[15px] font-normal leading-[21px] font-[#1D2939] py-4"},["1"==n.status?e("a-tag",{attrs:{color:"green"}},[t._v("Completed")]):t._e(),t._v(" "),"0"==n.status?e("a-tag",{attrs:{color:"red"}},[t._v("Pending")]):t._e()],1),t._v(" "),e("td",{staticClass:"text-[15px] font-normal leading-[21px] font-[#1D2939] py-4"},[t._v(t._s(t._f("dateFormat")(n.created_at)))])])})),0)]):t._e(),t._v(" "),e("div",{staticClass:"w-full flex justify-end items-end my-3"},[null!=t.withdrawals?e("div",{staticClass:"flex items-center space-x-1 flexwrap"},t._l(t.withdrawals.links,(function(n){return e("div",{key:n.id,staticClass:"cursor-pointer px-4 py-2 text-gray-700 rounded-md hover:bg-[#0042EC] hover:text-white",class:{"bg-[#0042EC] text-white":n.active},domProps:{innerHTML:t._s(n.label)},on:{click:function(e){return t.paginate(n)}}})})),0):t._e()])]),t._v(" "),e("a-tab-pane",{key:"3",attrs:{tab:"Unconfirmed Withdrawal"}},[0!=t.withdrawals_data.length?e("table",{staticClass:"w-full"},[e("thead",[e("tr",{staticClass:"p-6 border-b-2 border-b-[#B8B8B8] bg-[#D2DDFD]"},[e("td",{staticClass:"text-[15px] pl-4 font-semibold leading-[21px] font-[#1D2939] py-4"},[t._v("Amount")]),t._v(" "),e("td",{staticClass:"text-[15px] font-semibold leading-[21px] font-[#1D2939] py-4"},[t._v("Payment Type")]),t._v(" "),e("td",{staticClass:"text-[15px] font-semibold leading-[21px] font-[#1D2939] py-4"},[t._v("Status")]),t._v(" "),e("td",{staticClass:"text-[15px] font-semibold leading-[21px] font-[#1D2939] py-4"},[t._v("Created At")])])]),t._v(" "),e("tbody",t._l(t.withdrawals_data,(function(n,l){var r,o;return e("tr",{key:n.id,staticClass:"cusor-auto p-6 border-b-2 hover:bg-[#D2DDFD]"},[e("td",{staticClass:"text-[15px] pl-4 font-normal leading-[21px] font-[#1D2939] py-4"},[t._v(t._s(t._f("currency")(n.amount,"$")))]),t._v(" "),e("td",{staticClass:"text-[15px] font-semibold leading-[21px] font-[#1D2939] py-4"},[t._v(" "+t._s(t._f("capitalize")(null!==(r=n.paymenttype)&&void 0!==r&&r.payment_type_name?null===(o=n.paymenttype)||void 0===o?void 0:o.payment_type_name:"")))]),t._v(" "),e("td",{staticClass:"text-[15px] font-normal leading-[21px] font-[#1D2939] py-4"},["1"==n.status?e("a-tag",{attrs:{color:"green"}},[t._v("Completed")]):t._e(),t._v(" "),"0"==n.status?e("a-tag",{attrs:{color:"red"}},[t._v("Pending")]):t._e()],1),t._v(" "),e("td",{staticClass:"text-[15px] font-normal leading-[21px] font-[#1D2939] py-4"},[t._v(t._s(t._f("dateFormat")(n.created_at)))])])})),0)]):t._e(),t._v(" "),e("div",{staticClass:"w-full flex justify-end items-end my-3"},[0!=t.withdrawals_data.length?e("div",{staticClass:"flex items-center space-x-1 flexwrap"},t._l(t.withdrawals.links,(function(n){return e("div",{key:n.id,staticClass:"cursor-pointer px-4 py-2 text-gray-700 rounded-md hover:bg-[#0042EC] hover:text-white",class:{"bg-[#0042EC] text-white":n.active},domProps:{innerHTML:t._s(n.label)},on:{click:function(e){return t.paginate(n)}}})})),0):t._e()])])],1)],1)])}),[],!1,null,null,null);e.default=component.exports}}]);