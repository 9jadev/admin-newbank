(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{1354:function(t,e,r){"use strict";r.r(e);r(1316);var o=r(7),n=(r(66),r(1315)),l=r(1317),c={mixins:[n.validationMixin],name:"IndexPage",data:function(){return{form:{otp:""}}},validations:{form:{otp:{required:l.required}}},created:function(){console.log(this.$route.query)},methods:{submit:function(){this.$v.$touch(),this.$v.$invalid?this.$notyf.error("Invalid Form."):this.userLogin()},userLogin:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.$nuxt.$loading.start(),data={otp:t.form.otp,email:t.$route.query.email},console.log(data),e.prev=3,e.next=6,t.$auth.loginWith("local1",{data:data});case 6:e.sent,t.$nuxt.$loading.finish(),e.next=18;break;case 10:if(e.prev=10,e.t0=e.catch(3),t.$nuxt.$loading.finish(),console.log(e.t0),"otp"!=e.t0.response.data.status){e.next=17;break}return t.$router.push("/otp?email="+t.form.email),e.abrupt("return");case 17:t.$notyf.error(e.t0.response.data.message);case 18:case"end":return e.stop()}}),e,null,[[3,10]])})))()}}},d=r(60),component=Object(d.a)(c,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"flex flex-col items-center justify-center p-6"},[e("h4",{staticClass:"font-bold mb-10 text-center text-4xl"},[t._v(" OTP Authentication ")]),t._v(" "),e("p",{staticClass:"mb-4"},[t._v("Enter the 4-digit pin we sent to your email ")]),t._v(" "),e("div",{staticClass:"sm:w-[600px]"},[e("form",{on:{submit:function(e){return e.preventDefault(),t.submit()}}},[e("div",{staticClass:"mb-6"},[e("label",{staticClass:"mb-4 text-lg font-bold text-black dark:text-white",class:{"text-red-400":t.$v.form.otp.$error},attrs:{for:"email"}},[t._v("Your OTP")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.$v.form.otp.$model,expression:"$v.form.otp.$model",modifiers:{trim:!0}}],staticClass:"bg-gray-50 border h-12 border-gray-300 text-black text-lg rounded focus:border-green-200 w-full p-2.5",class:{"border-red-400":t.$v.form.otp.$error},attrs:{type:"OTP",id:"otp"},domProps:{value:t.$v.form.otp.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.form.otp,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),t._v(" "),!t.$v.form.otp.required&&t.$v.form.otp.$error?e("div",{staticClass:"text-lg font-bold text-red-400"},[t._v(" OTP is required.")]):t._e()]),t._v(" "),e("div",{staticClass:"flex justify-end mb-4"},[e("NuxtLink",{staticClass:"ml-2 text-sm font-medium text-[#EE5A34]",attrs:{to:"/forgot-password"}},[t._v("Forgot Password ?")])],1),t._v(" "),e("button",{staticClass:"text-white h-12 bg-[#EE5A35] hover:bg-[#EE5A34] focus:ring-4 focus:outline-none focus:ring-purple-300 font-bold rounded w-full px-5 py-2.5 text-center",attrs:{type:"submit"}},[t._v("Login to your dashboard")]),t._v(" "),e("p",{staticClass:"pt-3 text-sm text-center"},[t._v("\n        Don't have an account? "),e("span",{staticClass:"text-[#EE5A34] hover:underline"},[e("NuxtLink",{attrs:{to:"/"}},[t._v("Sign Up")])],1)])])])])}),[],!1,null,null,null);e.default=component.exports}}]);